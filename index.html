<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>HINSKENNY</title>
    <style>
        /* 基础重置 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        /* 页面整体样式 - 全屏背景 */
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            height: 100vh;
            width: 100vw;
            overflow: hidden;
            position: relative;
        }
        
        /* 背景图容器 - 全屏填充 */
        .bg-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 1;
        }
        
        /* 背景图样式 - 填充模式 */
        .bg-image {
            width: 100%;
            height: 100%;
            object-fit: cover; /* 关键变化：改为cover模式 */
            object-position: center;
            display: block;
        }
        
        /* 音乐控制按钮 - 桌面端 */
        .music-control {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 44px;
            height: 44px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.3s ease;
            box-shadow: 
                0 4px 15px rgba(0, 0, 0, 0.15),
                inset 0 0 0 1px rgba(255, 255, 255, 0.1);
            z-index: 100;
            border: none;
            outline: none;
        }
        
        /* 爱心图标 */
        .music-control::before {
            content: '';
            display: block;
            width: 20px;
            height: 20px;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='rgba(255,255,255,0.9)'%3E%3Cpath d='M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z'/%3E%3C/svg%3E");
            background-repeat: no-repeat;
            background-position: center;
            background-size: contain;
            transition: all 0.3s ease;
        }
        
        /* 播放状态变为暂停图标 */
        .music-control.playing::before {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='rgba(255,255,255,0.9)'%3E%3Cpath d='M6 19h4V5H6v14zm8-14v14h4V5h-4z'/%3E%3C/svg%3E");
            width: 16px;
            height: 16px;
        }
        
        /* 悬停效果 */
        .music-control:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: scale(1.1);
        }
        
        /* 手机端样式调整 */
        @media (max-width: 768px) {
            /* 背景图横向填充 */
            .bg-image {
                object-fit: cover;
                object-position: center center;
            }
            
            /* 更小的音乐按钮 */
            .music-control {
                width: 36px;
                height: 36px;
                bottom: 20px;
                right: 20px;
            }
            
            .music-control::before {
                width: 18px;
                height: 18px;
            }
            
            .music-control.playing::before {
                width: 14px;
                height: 14px;
            }
        }
        
        /* 非常小的手机设备 */
        @media (max-width: 480px) {
            .music-control {
                width: 32px;
                height: 32px;
                bottom: 15px;
                right: 15px;
            }
            
            .music-control::before {
                width: 16px;
                height: 16px;
            }
            
            .music-control.playing::before {
                width: 12px;
                height: 12px;
            }
        }
        
        /* 确保按钮在iOS设备上可见 */
        @supports (-webkit-touch-callout: none) {
            .music-control {
                background: rgba(255, 255, 255, 0.25);
            }
        }
    </style>
</head>
<body>
    <!-- 背景图容器 -->
    <div class="bg-container">
        <img src="background.jpg" class="bg-image" alt="背景图" id="bgImage">
    </div>
    
    <!-- 音乐播放器 -->
    <audio id="bgm" loop>
        <source src="bgm.mp3" type="audio/mpeg">
    </audio>
    
    <!-- 音乐控制按钮 -->
    <button class="music-control" id="musicBtn" aria-label="音乐控制"></button>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const audio = document.getElementById('bgm');
            const musicBtn = document.getElementById('musicBtn');
            const bgImage = document.getElementById('bgImage');
            
            // 确保按钮始终可见
            musicBtn.style.display = 'flex';
            
            // 图片加载后确保按钮可见
            bgImage.addEventListener('load', function() {
                musicBtn.style.opacity = '1';
            });
            
            // 点击按钮控制播放/暂停
            musicBtn.addEventListener('click', function() {
                if (audio.paused) {
                    audio.play()
                        .then(() => {
                            this.classList.add('playing');
                        })
                        .catch(e => {
                            console.log('播放失败:', e);
                            // 显示提示需要用户交互
                            alert('请点击页面任意位置以允许播放音乐');
                        });
                } else {
                    audio.pause();
                    this.classList.remove('playing');
                }
            });
            
            // 尝试自动播放（需要用户先与页面交互）
            function initAudio() {
                audio.play()
                    .then(() => {
                        musicBtn.classList.add('playing');
                    })
                    .catch(e => console.log('自动播放被阻止:', e));
                document.removeEventListener('click', initAudio);
            }
            
            // 用户首次点击页面时初始化音频
            document.addEventListener('click', initAudio);
            
            // 确保背景图填充整个视口
            function resizeBackground() {
                const aspectRatio = bgImage.naturalWidth / bgImage.naturalHeight;
                const windowRatio = window.innerWidth / window.innerHeight;
                
                if (windowRatio > aspectRatio) {
                    // 窗口更宽，按高度填充
                    bgImage.style.width = 'auto';
                    bgImage.style.height = '100%';
                } else {
                    // 窗口更高，按宽度填充
                    bgImage.style.width = '100%';
                    bgImage.style.height = 'auto';
                }
            }
            
            // 初始调整
            if (bgImage.complete) {
                resizeBackground();
            } else {
                bgImage.addEventListener('load', resizeBackground);
            }
            
            // 窗口大小改变时调整
            window.addEventListener('resize', resizeBackground);
        });
    </script>
</body>
</html>
